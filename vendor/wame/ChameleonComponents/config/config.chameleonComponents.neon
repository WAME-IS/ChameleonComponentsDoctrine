services:
    - Wame\ChameleonComponentsDoctrine\Loader\DoctrineRelationLoader

    # Registers
    RelationsRegister:
        class: Wame\ChameleonComponents\Drivers\DoctrineRepository\RelationsRegister
        setup:
            - @Wame\ChameleonComponentsDoctrine\Loader\DoctrineRelationLoader::initialize(@RelationsRegister)

# TODO remove
    - {class: Wame\ChameleonComponents\Drivers\DoctrineRepository\RepositoryDataLoaderDriver, tags: [run]}

    DataLoaderDriverRegister:
        setup:
            - add(Wame\ChameleonComponents\Drivers\DoctrineRepository\RepositoryDataLoaderDriver())